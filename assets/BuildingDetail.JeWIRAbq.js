import{u as f,l as j,m as p,j as e,S as v,L as g,P as b}from"./index.esEeeJLm.js";import{h as N,b as a}from"./vendor.CrEiiG9O.js";function E(){const{id:i}=N(),{user:n}=f(),t=n?.partner_id,[s,m]=a.useState(null),[o,u]=a.useState(!1),[d,r]=a.useState(!0);return a.useEffect(()=>{window.scrollTo(0,0)},[]),a.useEffect(()=>{let l=!0;return(async()=>{try{if(!t){r(!1);return}const c=((await j.dashboard(t))?.properties||[]).some(h=>String(h.building_id)===String(i));if(u(c),!c){r(!1);return}const x=await p.byId(i);l&&m(x)}finally{l&&r(!1)}})(),()=>{l=!1}},[i,t]),!d&&!o?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-3xl mx-auto bg-white border rounded p-4",children:"Vous n’avez pas accès à cet immeuble."})}):e.jsxs(e.Fragment,{children:[e.jsx(v,{title:`Immeuble ${s?.name||""}`}),e.jsx(g,{childrenClasses:"pt-0 pb-0",children:e.jsxs("div",{className:"about-page-wrapper w-full",children:[e.jsx("div",{className:"title-area w-full",children:e.jsx(b,{title:`Immeuble ${s?.name||""}`,breadcrumb:[{name:"Accueil",path:"/"},{name:"Immeubles",path:"/immeubles"}]})}),e.jsx("div",{className:"aboutus-wrapper w-full",children:e.jsx("div",{className:"container-x mx-auto p-4",children:d?"Chargement…":e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm bg-white border rounded p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Code"}),e.jsx("div",{className:"font-medium",children:s?.code||"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Ville"}),e.jsx("div",{className:"font-medium",children:s?.city||"—"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Étages"}),e.jsx("div",{className:"font-medium",children:s?.total_floors||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Occup."}),e.jsxs("div",{className:"font-medium",children:[s?.occupancy_rate||0,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Locaux"}),e.jsx("div",{className:"font-medium",children:s?.property_count||0})]})]})})})]})})]})}export{E as default};
