import{u as x,h as p,j as e,S as f,L as h,P as g}from"./index.C8FWxaAt.js";import{b as t,L as j}from"./vendor.CrEiiG9O.js";function N(){const{user:c}=x(),i=c?.partner_id,[r,o]=t.useState([]),[u,l]=t.useState(!0);return t.useEffect(()=>{window.scrollTo(0,0)},[]),t.useEffect(()=>{let a=!0;return(async()=>{try{if(!i){l(!1);return}const m=((await p.dashboard(i))?.properties||[]).map(s=>({id:s.building_id,name:s.building_name})).filter(s=>s.id&&s.name),n=[],d=new Set;for(const s of m)d.has(s.id)||(d.add(s.id),n.push(s));a&&o(n)}finally{a&&l(!1)}})(),()=>{a=!1}},[i]),e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Immeubles"}),e.jsx(h,{childrenClasses:"pt-0 pb-0",children:e.jsxs("div",{className:"about-page-wrapper w-full",children:[e.jsx("div",{className:"title-area w-full",children:e.jsx(g,{title:"Immeubles",breadcrumb:[{name:"Accueil",path:"/"}]})}),e.jsx("div",{className:"aboutus-wrapper w-full",children:e.jsx("div",{className:"container-x mx-auto p-4 grid grid-cols-1 md:grid-cols-3 gap-3",children:u?e.jsx("div",{className:"text-sm text-gray-500",children:"Chargement…"}):r.length===0?e.jsx("div",{className:"text-sm text-gray-500",children:"Aucun immeuble associé à vos locaux."}):r.map(a=>e.jsxs("div",{className:"border rounded p-3",children:[e.jsx("div",{className:"font-semibold",children:a.name}),e.jsx("div",{className:"mt-2",children:e.jsx(j,{className:"underline",to:`/immeubles/${a.id}`,children:"Détails"})})]},a.id))})})]})})]})}export{N as default};
